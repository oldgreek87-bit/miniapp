# TODO - Список задач

## Контент (книга и журнал)

### Книга месяца
- [ ] Добавить валидацию даты (месяц/год) в админ панели
- [ ] Добавить предпросмотр изображения перед сохранением
- [ ] Добавить возможность загрузки изображения через админку (не только URL)
- [ ] Добавить историю изменений книги месяца
- [ ] Добавить автоматическое переключение книги по дате

### Журнал
- [ ] Добавить валидацию номера выпуска (должен быть уникальным)
- [ ] Добавить предпросмотр изображения журнала
- [ ] Добавить список всех выпусков журнала
- [ ] Добавить возможность просмотра старых выпусков
- [ ] Добавить дату публикации журнала

### Общие улучшения контента
- [ ] Добавить поддержку markdown в описаниях
- [ ] Добавить возможность добавлять ссылки в описания
- [ ] Улучшить отображение длинных описаний
- [ ] Добавить анимацию при свайпе
- [ ] Добавить индикатор текущей страницы (книга/журнал)

### Редизайн стартового экрана (главная страница)

[ ] Полностью переработать внешний вид стартового экрана по референсу:
    - черный фон
    - крупная обложка книги месяца в центре
    - аккуратные отступы сверху и снизу

[ ] Добавить заголовок-название книги месяца
    - белый текст, крупный, жирный
    - стиль как на скрине «Молодой Шерлок Холмс»

[ ] Добавить подзаголовок мелким текстом:
    - имя автора
    - дата публикации
    - количество страниц
    - стиль и размер как подписи к фильму на скрине

[ ] Добавить три маленькие иконки-кнопки в одну линию:
    - "Купить подписку"
    - "Поделиться"
    - "Читать" (ведёт в Reading Room)
    - стиль и размер иконок как в референсе

[ ] Добавить раскрывающийся блок «О чём книга»

[ ] Удалить три большие кнопки со стартового экрана:
    - «Купить подписку»
    - «Моя подписка»
    - «Reading Room»

[ ] Создать нижнюю навигацию (таб-бар), как в приложениях:
    - Главная
    - Подписка
    - Журнал
    - Reading Room
    - аккуратные минималистичные иконки + подписи

[ ] Настроить корректное переключение вкладок нижнего меню

[ ] Адаптировать весь интерфейс под мобильные экраны (Telegram Mini App)

## Дополнительная доработка главной страницы

 Добавить очень маленький подзаголовок с противопложной стороны от логотипа: «Регулярно читаем книги на английском и прокачиваем словарный запас»

 Сделать название книги на английском, крупнее, как в референсе

 Добавить под названием надпись «Книга месяца»

 Добавить подписи под кнопками-иконками: «Купить подписку», «Поделиться», «Читать»

 Сменить цвет иконок и мелких подписй на светло-серый (#B3B3B3)

 Уменьшить размер обложки книги на 8–12%

 Убрать блок “О чём книга” и вместо этого сделать превью текста (1 абзац) с эффектом затуманивания и раскрытием по клику

 Приподнять нижнее навигационное меню (таб-бар)

 Добавить фон таб-бара в виде полупрозрачной тёмно-серой панели (как «размытое стекло»)

 Переименовать разделы и поменять иконки:

«Журнал» → «Магазин»

«Reading Room» → «Поддержка»

 Заменить иконки для новых разделов

 ## Итерация 3 — визуальная полировка главной страницы

 Переместить логотип в самое верхнее центральное положение

 Удалить подзаголовок под логотипом

 Исправить отображение PNG с прозрачностью (вернуть прозрачные углы книги)

 Исправить glow/тень под обложкой, чтобы она не закрашивала прозрачные части

 Нижняя панель (tab-bar) должна прилегать к нижнему краю экрана без зазоров

 Выровнять три иконки-кнопки (купить, поделиться, читать) идеально по центру

 Разместить данные книги (автор, дата публикации, страницы) в СТОЛБИК

 Все элементы (обложка, название, кнопки, текст) слегка сместить вверх, чтобы описание начиналось ближе к экрану

 Разместить описание книги сразу под блоком кнопок с небольшим визуальным отступом

 Настроить тени, отступы и выравнивания, чтобы всё выглядело как в референсе с Шерлоком

 ## Итерация 4 — финальный ретушинг главной страницы

 Заменить русское название книги на английское: "The Twelve Days of Christmas"

 В блоке информации о книге:

 Строка 1: «Книга месяца»

 Строка 2: «Сьюзан Стоукс-Чепмен»

 Строка 3: «Публикация: Декабрь 2025 • 320 стр.» (в одну строку)

 Все информационные строки сделать компактнее, уменьшить вертикальные отступы

 Поднять блок иконок («Купить подписку», «Поделиться», «Читать») ещё выше

 Поднять текст описания ещё выше вслед за иконками

 Нижний таб-бар приподнять на 10–16px от нижнего края, чтобы иконки не упирались в угол

 Оставить расстояние снизу только для системной навигации телефона

 ## Итерация 5 — визуальная и логическая стабилизация главной страницы

 Немного опустить блок кнопок (Купить / Поделиться / Читать)

 Исправить проблему «мигания» названия книги → временно отключить подстановку через JS

 Нижнее меню: приподнять иконки и подписи; увеличить внутренний отступ

 Убрать скругления нижнего таб-бара, чтобы фон прилегал к краям экрана

 Проверить отсутствие лишних margin/padding, которые тянут элементы вниз или вверх

## Оплата и подписки

### Интеграция T-Bank
- [ ] Заменить mock реализацию на реальный T-Bank API
- [ ] Добавить обработку webhook от T-Bank
- [ ] Добавить проверку подписи платежей
- [ ] Добавить обработку ошибок платежей
- [ ] Добавить логирование всех платежей

### Подписки
- [ ] Добавить автоматическое продление подписки
- [ ] Добавить уведомления об истечении подписки
- [ ] Добавить возможность продления до истечения
- [ ] Добавить промокоды для скидок
- [ ] Добавить разные планы подписки (если понадобится)

### Платежи
- [ ] Добавить страницу успешной оплаты
- [ ] Добавить страницу ошибки оплаты
- [ ] Добавить историю платежей для пользователя
- [ ] Добавить возможность повторной оплаты при ошибке
- [ ] Добавить экспорт данных о платежах для отчётности

## Главная страница

### Интерфейс
- [ ] Улучшить анимации переходов
- [ ] Добавить индикатор загрузки контента
- [ ] Добавить обработку ошибок загрузки данных
- [ ] Улучшить отображение на больших экранах
- [ ] Добавить тёмную тему (уже есть, но можно улучшить)

### Функционал
- [ ] Добавить возможность поделиться книгой/журналом
- [ ] Добавить избранные книги
- [ ] Добавить историю прочитанных книг
- [ ] Добавить рекомендации книг
- [ ] Добавить поиск по книгам (если будет архив)

### Свайп
- [ ] Улучшить чувствительность свайпа
- [ ] Добавить визуальную обратную связь при свайпе
- [ ] Добавить анимацию перехода
- [ ] Добавить поддержку жестов на десктопе (мышь)
- [ ] Добавить кнопки навигации (для десктопа)

## Админка

### Управление контентом
- [ ] Добавить предпросмотр контента перед сохранением
- [ ] Добавить возможность удаления книги/журнала
- [ ] Добавить историю изменений контента
- [ ] Добавить возможность отката изменений
- [ ] Добавить массовое редактирование

### Управление пользователями
- [ ] Добавить фильтры по статусу подписки
- [ ] Добавить сортировку пользователей
- [ ] Добавить экспорт списка пользователей
- [ ] Добавить статистику по подпискам
- [ ] Добавить графики активности пользователей

### Чат (будущее)
- [ ] Настроить webhook для получения сообщений
- [ ] Добавить интерфейс чата в админку
- [ ] Добавить уведомления о новых сообщениях
- [ ] Добавить шаблоны ответов
- [ ] Добавить историю переписки

### Безопасность
- [ ] Добавить двухфакторную аутентификацию для админов
- [ ] Добавить логирование действий админов
- [ ] Добавить ограничение доступа по IP
- [ ] Добавить сессии вместо токена в localStorage
- [ ] Добавить rate limiting для API

## API

### Оптимизация
- [ ] Добавить кэширование данных книги/журнала
- [ ] Добавить пагинацию для списка пользователей
- [ ] Оптимизировать запросы к базе данных
- [ ] Добавить индексы для часто используемых запросов
- [ ] Добавить сжатие ответов API

### Документация
- [ ] Создать OpenAPI/Swagger документацию
- [ ] Добавить примеры запросов для каждого endpoint
- [ ] Добавить описание ошибок
- [ ] Добавить rate limits для каждого endpoint
- [ ] Создать Postman коллекцию

### Мониторинг
- [ ] Добавить логирование всех API запросов
- [ ] Добавить метрики производительности
- [ ] Добавить алерты при ошибках
- [ ] Добавить health check endpoint
- [ ] Добавить мониторинг использования API

## База данных

### Миграция
- [ ] Создать скрипты миграции для PostgreSQL
- [ ] Добавить резервное копирование данных
- [ ] Настроить автоматические бэкапы
- [ ] Добавить возможность восстановления из бэкапа
- [ ] Документировать структуру БД

### Оптимизация
- [ ] Проанализировать и оптимизировать запросы
- [ ] Добавить недостающие индексы
- [ ] Настроить connection pooling
- [ ] Добавить репликацию (если понадобится)
- [ ] Настроить мониторинг производительности БД

### Данные
- [ ] Добавить архивацию старых данных
- [ ] Добавить очистку истёкших подписок
- [ ] Добавить статистику по использованию
- [ ] Добавить аналитику по книгам/журналам
- [ ] Создать дашборд с метриками

## Дополнительные функции

### Для пользователей
- [ ] Добавить профиль пользователя
- [ ] Добавить настройки уведомлений
- [ ] Добавить возможность отписки от рассылок
- [ ] Добавить поддержку нескольких языков
- [ ] Добавить офлайн режим (кэширование)

### Интеграции
- [ ] Интегрировать с Telegram Bot для уведомлений
- [ ] Добавить email уведомления
- [ ] Добавить интеграцию с аналитикой
- [ ] Добавить интеграцию с CRM системой
- [ ] Добавить API для внешних интеграций

### Тестирование
- [ ] Написать unit тесты для API
- [ ] Написать интеграционные тесты
- [ ] Добавить E2E тесты для основных сценариев
- [ ] Настроить CI/CD pipeline
- [ ] Добавить автоматическое тестирование после деплоя

