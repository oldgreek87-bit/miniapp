# Журнал изменений

## [1.0.0] - 2025-12-07

### Реализовано

#### Основной функционал
- ✅ Telegram Mini App с интеграцией Telegram WebApp SDK
- ✅ Система подписок с одним планом (1 месяц - 299₽)
- ✅ Интеграция с T-Bank для платежей (mock реализация)
- ✅ Управление доступом к закрытому каналу Reading Room
- ✅ Автоматическое управление каналом через cron job

#### Контент
- ✅ Книга месяца с изображением, названием, автором и описанием
- ✅ Журнал Bookflix Monthly с кратким и полным описанием
- ✅ Свайп между книгой и журналом на главной странице
- ✅ Разворачивающиеся секции "О чём книга" и "О чём журнал"
- ✅ Управление контентом через админ панель

#### Интерфейс
- ✅ Минималистичный дизайн: чёрный фон, белый текст
- ✅ Логотип Bookflix в SVG формате
- ✅ Подзаголовок "английский книжный клуб"
- ✅ Адаптивный дизайн для мобильных устройств
- ✅ Все тексты переведены на русский язык (кроме "Reading Room")

#### Админ панель
- ✅ Вкладка "Контент" для управления книгой и журналом
- ✅ Вкладка "Пользователи" со списком всех пользователей
- ✅ Отображение информации о пользователях: имя, фото, username
- ✅ Показ неактивных пользователей
- ✅ Добавление дней к подписке
- ✅ Управление статусом подписки

#### API
- ✅ Консолидированный API (один serverless function)
- ✅ Endpoints для получения книги месяца и журнала
- ✅ Endpoints для управления подписками
- ✅ Endpoints для админ панели
- ✅ Health check endpoint

#### База данных
- ✅ SQLite база данных с автоматической инициализацией
- ✅ Таблицы: subscriptions, payment_history, book_of_month, monthly_magazine, messages
- ✅ Индексы для оптимизации запросов
- ✅ Поддержка /tmp директории для Vercel

#### Деплой
- ✅ Конфигурация для Vercel
- ✅ Serverless functions
- ✅ Статические файлы
- ✅ Cron job для ежедневного управления каналом

### Что работает

#### Для пользователей
- ✅ Открытие приложения из Telegram
- ✅ Просмотр книги месяца
- ✅ Свайп для просмотра журнала
- ✅ Разворачивание описаний книги и журнала
- ✅ Покупка подписки (тестовый режим)
- ✅ Просмотр статуса подписки
- ✅ Доступ к Reading Room (если подписка активна)
- ✅ Отмена подписки

#### Для администраторов
- ✅ Доступ к админ панели по токену
- ✅ Просмотр всех пользователей с информацией
- ✅ Управление книгой месяца
- ✅ Управление журналом
- ✅ Добавление дней к подписке пользователя
- ✅ Автоматическая загрузка текущих данных в формы

#### Технически
- ✅ API отвечает на все запросы
- ✅ База данных инициализируется автоматически
- ✅ Изображения загружаются (с fallback на дефолтные)
- ✅ Свайп работает на touch устройствах
- ✅ Все страницы переключаются корректно

### Известные ограничения

- ⚠️ T-Bank интеграция в тестовом режиме (mock)
- ⚠️ База данных SQLite в /tmp (данные могут теряться при перезапуске)
- ⚠️ Чат функционал временно отключен (проблемы с webhook)
- ⚠️ Нет аутентификации для админ панели (только токен)
- ⚠️ Нет валидации данных на клиенте

### Следующие версии

#### Планируется в v1.1.0
- [ ] Реальная интеграция T-Bank
- [ ] Миграция на PostgreSQL
- [ ] Улучшение чата функционала
- [ ] Добавление валидации форм
- [ ] Улучшение обработки ошибок

#### Планируется в v1.2.0
- [ ] История платежей для пользователей
- [ ] Уведомления об истечении подписки
- [ ] Статистика в админ панели
- [ ] Экспорт данных
- [ ] Улучшенная безопасность

---

**Примечание:** Все даты в формате YYYY-MM-DD



## v0.2 — Редизайн стартового экрана (08.12.2025)

### Новое:
- Полностью переработан внешний вид главной страницы.
- Добавлена современная навигационная панель (tab bar).
- Обложка книги месяца отображается корректно с PNG-прозрачностью.
- Название книги стабильно подтягивается из API.
- Добавлен аккуратный блок с кнопками: купить подписку, поделиться, читать.
- Полностью обновлён текстовый блок описания книги.
- Убраны старые большие кнопки (купить / моя подписка / Reading Room).

### Исправления:
- Исправлено мигание русского названия.
- Убран лишний функционал “читать дальше”.
- Исправлено позиционирование элементов на мобильных устройствах.
- Убран визуальный баг нижнего меню (прилегание к краям).
